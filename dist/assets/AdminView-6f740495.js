import{e as a,r as e,f as t,_ as s,g as n,o,c as l,a as d,w as i,v as u,h as r,i as c,t as v,d as m}from"./index-2db28aa5.js";const p=a("stats",(()=>{const a=e(0),s=e(0),n=e(0),o=t((()=>parseFloat((n.value*(a.value/100)).toFixed(2)))),l=t((()=>Math.min(100,Math.round(a.value/2500*100))));function d(e){void 0!==e.distanceKm&&(a.value=e.distanceKm),void 0!==e.sponsorCount&&(s.value=e.sponsorCount),void 0!==e.amountPerKm&&(n.value=e.amountPerKm)}return{distanceKm:a,sponsorCount:s,amountPerKm:n,totalPledged:o,percentageCompleted:l,updateStats:d,fetchStats:async function(){const a={distanceKm:250,sponsorCount:15,amountPerKm:5.75};return d(a),a}}})),b={class:"admin"},g={class:"section"},h={class:"container"},f={key:0,class:"login-container"},y={class:"login-form"},K={class:"form-group"},w={key:0,class:"error-message"},C={key:1,class:"admin-dashboard"},S={class:"admin-card"},P={key:0,class:"success-message"},k={key:1,class:"error-message"},A={class:"form-grid"},I={class:"form-group"},U={class:"form-group"},x={class:"form-group"},V=s({__name:"AdminView",setup(a){const t=p(),s=e(!1),V=e(""),_=e(!1),F=e(t.distanceKm),L=e(t.sponsorCount),M=e(t.amountPerKm),D=e(""),E=e("");n((()=>{"true"===localStorage.getItem("isAdmin")&&(s.value=!0),t.fetchStats().then((()=>{F.value=t.distanceKm,L.value=t.sponsorCount,M.value=t.amountPerKm}))}));const j=()=>{"lennert1234"===V.value?(s.value=!0,_.value=!1,localStorage.setItem("isAdmin","true")):_.value=!0},B=()=>{s.value=!1,localStorage.removeItem("isAdmin")},N=()=>{try{t.updateStats({distanceKm:parseFloat(F.value),sponsorCount:parseInt(L.value),amountPerKm:parseFloat(M.value)}),D.value="Statistics updated successfully!",E.value="",setTimeout((()=>{D.value=""}),3e3)}catch(a){E.value="Error updating statistics: "+a.message,D.value=""}};return(a,e)=>(o(),l("div",b,[e[13]||(e[13]=d("section",{class:"section-header bg-light"},[d("div",{class:"container"},[d("h1",null,"Admin Panel"),d("p",{class:"lead"}," Manage statistics and content for the Lennert Bikes website. ")])],-1)),d("section",g,[d("div",h,[s.value?(o(),l("div",C,[d("div",{class:"dashboard-header"},[e[6]||(e[6]=d("h2",null,"Dashboard",-1)),d("button",{onClick:B,class:"btn btn-outline"},"Logout")]),d("div",S,[e[10]||(e[10]=d("h3",null,"Update Statistics",-1)),e[11]||(e[11]=d("p",null,"Update the current statistics shown on the website.",-1)),D.value?(o(),l("div",P,v(D.value),1)):c("",!0),E.value?(o(),l("div",k,v(E.value),1)):c("",!0),d("div",A,[d("div",I,[e[7]||(e[7]=d("label",{for:"distanceKm"},"Distance (km)",-1)),i(d("input",{type:"number",id:"distanceKm","onUpdate:modelValue":e[1]||(e[1]=a=>F.value=a),min:"0",step:"0.1"},null,512),[[u,F.value]])]),d("div",U,[e[8]||(e[8]=d("label",{for:"sponsorCount"},"Number of Sponsors",-1)),i(d("input",{type:"number",id:"sponsorCount","onUpdate:modelValue":e[2]||(e[2]=a=>L.value=a),min:"0"},null,512),[[u,L.value]])]),d("div",x,[e[9]||(e[9]=d("label",{for:"amountPerKm"},"Average Amount per 100km (â‚¬)",-1)),i(d("input",{type:"number",id:"amountPerKm","onUpdate:modelValue":e[3]||(e[3]=a=>M.value=a),min:"0",step:"0.01"},null,512),[[u,M.value]])])]),d("button",{onClick:N,class:"btn btn-primary"},"Update Stats")]),e[12]||(e[12]=m('<div class="admin-card" data-v-1aa80de1><h3 data-v-1aa80de1>Sponsor Data</h3><p data-v-1aa80de1>In a future version, this section will allow you to view and export sponsor data.</p><div class="placeholder-content" data-v-1aa80de1><p data-v-1aa80de1>Sponsor list will appear here in a future update.</p><button class="btn btn-outline" disabled data-v-1aa80de1>Export Sponsors (Coming Soon)</button></div></div><div class="admin-card" data-v-1aa80de1><h3 data-v-1aa80de1>Content Management</h3><p data-v-1aa80de1>In a future version, this section will allow you to add and manage journey updates.</p><div class="placeholder-content" data-v-1aa80de1><p data-v-1aa80de1>Content management tools will appear here in a future update.</p><button class="btn btn-outline" disabled data-v-1aa80de1>Add Update (Coming Soon)</button></div></div>',2))])):(o(),l("div",f,[d("div",y,[e[5]||(e[5]=d("h2",null,"Admin Login",-1)),d("div",K,[e[4]||(e[4]=d("label",{for:"password"},"Password",-1)),i(d("input",{type:"password",id:"password","onUpdate:modelValue":e[0]||(e[0]=a=>V.value=a),placeholder:"Enter admin password",onKeyup:r(j,["enter"])},null,544),[[u,V.value]])]),_.value?(o(),l("div",w," Incorrect password. Please try again. ")):c("",!0),d("button",{onClick:j,class:"btn btn-primary"},"Login")])]))])])]))}},[["__scopeId","data-v-1aa80de1"]]);export{V as default};
